### **📌 Desktop App UI 設計與實作需求文件**  
🔹 **專案名稱**: Prompt Optimization Desktop App  
🔹 **開發工具**: Cursor (AI-powered IDE)  
🔹 **平台**: Windows / macOS (Electron + React)  

---

## **📝 需求概述**  
本應用提供 **Prompt 優化功能**，並支援 **兩種模式**，適用於不同的應用場景。  
透過 **模式選擇清單 (Mode Selection List)**，使用者可以直觀選擇適合的模式，並輸入相應的資訊來最佳化提示詞 (Prompt)。

---

## **🎯 核心功能**
1. **模式選擇清單**（Mode Selection）
2. **輸入區：提供任務描述 & 初始提示詞**
3. **根據模式，動態顯示「範例輸入」(範例引導優化專屬)**
4. **開始優化按鈕，觸發 Prompt 優化流程**
5. **結果顯示區，包含最佳化提示詞、變體、生成結果與評分**
6. **允許比較不同變體的輸出**
7. **支援 JSON 導出**
8. **深色模式 (Dark Mode)**

---

## **📌 UI 需求**
### **📍 1. 模式選擇頁 (Mode Selection Page)**
#### **✅ 使用者首次打開應用時，顯示模式選擇畫面**
- **提供模式清單，讓使用者選擇「範例引導優化」或「獨立優化」**
- **描述每個模式的適用場景**
- **點擊「選擇模式」後進入主界面**

🔹 **UI 設計**
```plaintext
┌───────────────────────────────────────────────┐
│  🔹 選擇您的提示詞優化模式                      │
│──────────────────────────────────────────────│
│  【 範例引導優化 】 (Example-Guided)         │
│  💡 提供範例作為參考，適合翻譯、改寫、摘要等  │
│  📝 AI 會根據範例來最佳化提示詞               │
│  [ 選擇範例引導優化 ]                          │
│──────────────────────────────────────────────│
│  【 獨立優化 】 (Standalone)                 │
│  💡 不需要範例，適合創意寫作、問答、邏輯推理等 │
│  🎭 AI 會直接優化您的提示詞並產生變體         │
│  [ 選擇獨立優化 ]                              │
└───────────────────────────────────────────────┘
```

---

### **📍 2. 主界面 (Main UI)**
#### **✅ 使用者選擇模式後，進入主畫面**
- **輸入區**
  - **任務描述 (`Task Description`)**
  - **初始提示詞 (`Initial Prompt`)**
  - **範例輸入 (`Example Input`)**（僅在 **範例引導優化** 模式顯示）
- **開始優化按鈕 (`Optimize Prompt`)**
- **結果顯示區**
  - **優化後的提示詞 (`Optimized Prompt`)**
  - **變體 (`Variants`)**
  - **輸出 (`Generated Outputs`)**
  - **評分 (`Scores`)**
- **支援比較 & 下載 JSON**

🔹 **UI 設計**
```plaintext
┌───────────────────────────────────────────────────┐
│  🔹 當前模式: [ 範例引導優化 ⬇ ]                   │
│  (使用者可切換為「獨立優化」模式)                 │
│───────────────────────────────────────────────────│
│  🏷 任務描述:  [__________________________]       │
│  🏷 初始提示詞: [__________________________]       │
│  🏷 範例輸入:  [__________________________] (範例引導優化模式) │
│                                                   │
│  [ 優化提示詞 ]                                     │
│───────────────────────────────────────────────────│
│  🔹 優化結果 (Optimized Prompt)                    │
│  ▪ 最佳化後的提示詞:                               │
│    "Translate with a fluent style..."             │
│  ▪ 變體 (Variants):                                │
│    - "Reword the sentence naturally"             │
│    - "Maintain fluency in translation"           │
│  [ 🔍 比較變體 ] [ 📥 下載 JSON ]                   │
│───────────────────────────────────────────────────│
│  🔹 生成結果 (Generated Outputs)                  │
│  ▪ 顯示 AI 產生的文本                              │
│───────────────────────────────────────────────────│
│  🔹 評分分析 (Scores)                              │
│  ▪ 每個輸出的 GPT Score                           │
│  [ 📊 顯示排名 ]                                  │
└───────────────────────────────────────────────────┘
```

---

### **📍 3. 設定功能 (Settings & Preferences)**
#### **✅ 深色模式 & JSON 導入/導出**
- **允許切換深色模式 (`Dark Mode`)**
- **允許匯出 JSON 檔案以儲存當前結果**
- **登出**

🔹 **UI 設計**
```plaintext
┌──────────────────────────┐
│  🔧 設定                 │
│──────────────────────────│
│  [ 🌙 深色模式 ]  [ ⬇ 下載 JSON ] [登出]│
└──────────────────────────┘
```

---

## **🎯 開發需求**
### **🔹 技術棧**
- **Electron + React**（桌面應用框架）
- **Tailwind CSS**（簡潔 UI 設計）
- **ShadCN UI**（高級 UI 元件）
- **Ollama API**（用於 測試 Prompt）
- **Backend API**（generate initial prompt, critique, generate variants, refine prompt）
- **GPT Scoring API**（評分）

### **🔹 功能需求**
1. **Mode 選擇頁面**
   - **使用模式選擇清單**
   - 點擊後進入主界面
2. **主界面**
   - **根據模式顯示不同輸入選項**
   - 點擊「開始優化」後發送 API 請求
3. **結果顯示**
   - 顯示 **最佳化提示詞 (`Optimized Prompt`)**
   - **變體 (`Variants`) + 生成結果 (`Generated Outputs`)**
   - **評分 (`Scores`)**
4. **比較 & 排名**
   - **允許選擇兩個變體進行比較**
   - **允許按分數排序結果**

5. **設定**
   - **深色模式 (Dark Mode)**
   - **匯出 JSON**
   - **登出**

---

## **📌 結論**
本設計 **強調直覺性與彈性**，讓 **新手快速理解模式**，並確保 **進階用戶可以靈活操作與比較輸出結果**。  

🔹 **主要設計特色**
- **模式選擇清單** → 讓使用者理解「範例引導優化」與「獨立優化」的適用場景
- **動態輸入欄位** → **範例引導優化模式** 才顯示範例輸入
- **標籤式結果區** → 清楚呈現 **最佳化結果 / 變體 / 生成結果 / 評分**
- **進階功能** → **支援變體比較、JSON 導出、深色模式**

✅ **請 Cursor 開發團隊參考此需求文件，進行 UI 設計與實作！** 🚀